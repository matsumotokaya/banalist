# Internationalization (i18n) Strategy

Last updated: 2026-02-07

## Overview

This document outlines the multi-language support strategy for the WHATIF banner design tool. Our goal is to provide comprehensive language coverage for the global anime fan community while maintaining development efficiency.

**Target Users**: Anime fans who create banners for social media (Instagram, YouTube, X, etc.)

---

## Current Status

### Implemented Languages
- **English** (`en`) - Global common language
- **Japanese** (`ja`) - Base language, content origin

### Technical Stack
- **Library**: `react-i18next` v16.5.0 + `i18next` v25.7.3
- **Language Detection**: `i18next-browser-languagedetector` v8.2.0
- **Storage**: localStorage (`banalist_language`)
- **Translation Files**: JSON format, 6 namespaces
  - `common.json` (45 lines) - Buttons, labels, status
  - `editor.json` (120 lines) - Editor UI (largest)
  - `banner.json` (26 lines) - Banner management
  - `modal.json` (64 lines) - Modal dialogs
  - `auth.json` (9 lines) - Authentication
  - `message.json` (29 lines) - User messages

**Total Translation Volume**: ~293 lines per language

### File Structure
```
src/i18n/
â”œâ”€â”€ index.ts                    # i18n configuration
â””â”€â”€ locales/
    â”œâ”€â”€ en/                     # English
    â”‚   â”œâ”€â”€ common.json
    â”‚   â”œâ”€â”€ editor.json
    â”‚   â”œâ”€â”€ banner.json
    â”‚   â”œâ”€â”€ modal.json
    â”‚   â”œâ”€â”€ auth.json
    â”‚   â””â”€â”€ message.json
    â””â”€â”€ ja/                     # Japanese
        â””â”€â”€ (same structure)
```

---

## Language Coverage Plan

### Tier 1: Essential Languages (Priority: Highest)
Languages with large anime fan populations and high purchasing power.

| Language | ISO Code | Target Region | Market Size | Implementation Phase |
|----------|----------|---------------|-------------|---------------------|
| English | `en` | Global | 1.5B | âœ… Implemented |
| Japanese | `ja` | Japan | 120M | âœ… Implemented |
| Spanish | `es` | Latin America, Spain | 590M | **Phase 1** |
| Portuguese (Brazil) | `pt-BR` | Brazil | 260M | **Phase 1** |
| Simplified Chinese | `zh-CN` | Mainland China | 1B | **Phase 1** |
| Traditional Chinese | `zh-TW` | Taiwan, Hong Kong | 50M | **Phase 1** |
| French | `fr` | France, Africa | 320M | **Phase 1** |

**Rationale**: These languages cover ~70% of the global anime fan base and align with major streaming platforms (Netflix, Crunchyroll).

---

### Tier 2: High-Value Languages (Priority: High)
Active social media communities with strong engagement on Instagram/TikTok.

| Language | ISO Code | Target Region | Market Size | Implementation Phase |
|----------|----------|---------------|-------------|---------------------|
| Korean | `ko` | South Korea | 77M | **Phase 2** |
| Russian | `ru` | Russia, Eastern Europe | 260M | **Phase 2** |
| Thai | `th` | Thailand | 69M | **Phase 2** |
| Indonesian | `id` | Indonesia | 270M | **Phase 2** |

**Rationale**: High social media activity, growing anime markets, strong cosplay culture.

---

### Tier 3: Emerging Markets (Priority: Medium)
Future growth potential with increasing anime consumption.

| Language | ISO Code | Target Region | Market Size | Implementation Phase |
|----------|----------|---------------|-------------|---------------------|
| German | `de` | Germany, Austria | 130M | **Phase 3** |
| Italian | `it` | Italy | 85M | **Phase 3** |
| Hindi | `hi` | India | 600M | **Phase 3** |
| Turkish | `tr` | Turkey | 88M | **Phase 3** |
| Vietnamese | `vi` | Vietnam | 95M | **Phase 3** |

---

### Special Case: Right-to-Left (RTL) Languages

| Language | ISO Code | Target Region | Market Size | Implementation Phase |
|----------|----------|---------------|-------------|---------------------|
| Arabic | `ar` | Middle East (Saudi, UAE, Egypt) | 420M | **Phase 4 (Final)** |

**Why Last?**
- Requires full RTL layout support (`dir="rtl"`)
- CSS mirror-flip for entire UI
- Konva.js canvas adjustments for text direction
- 2-3x development effort compared to LTR languages
- Test all UI components in RTL mode

---

## Implementation Phases

### Phase 1: Global Expansion (Tier 1) - RECOMMENDED START
**Timeline**: 3-4 weeks
**Languages**: 5 new languages (7 total)

```typescript
// Add to LanguageSwitcher.tsx
const LANGUAGES = [
  { code: 'en', label: 'English', flag: 'ğŸ‡¬ğŸ‡§' },
  { code: 'ja', label: 'æ—¥æœ¬èª', flag: 'ğŸ‡¯ğŸ‡µ' },
  { code: 'es', label: 'EspaÃ±ol', flag: 'ğŸ‡ªğŸ‡¸' },
  { code: 'pt-BR', label: 'PortuguÃªs (BR)', flag: 'ğŸ‡§ğŸ‡·' },
  { code: 'zh-CN', label: 'ç®€ä½“ä¸­æ–‡', flag: 'ğŸ‡¨ğŸ‡³' },
  { code: 'zh-TW', label: 'ç¹é«”ä¸­æ–‡', flag: 'ğŸ‡¹ğŸ‡¼' },
  { code: 'fr', label: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
];
```

**Tasks**:
1. Week 1-2: Translation (AI-assisted + review)
2. Week 2: Font integration (Noto Sans family)
3. Week 3: Implementation + UI testing
4. Week 4: Mobile responsive testing

**Deliverables**:
- 5 new language directories in `src/i18n/locales/`
- Font loading for CJK languages
- Updated LanguageSwitcher UI
- QA testing report

---

### Phase 2: Social Media Expansion (Tier 2)
**Timeline**: 2-3 weeks
**Languages**: 4 new languages (11 total)

```typescript
// Additional languages
  { code: 'ko', label: 'í•œêµ­ì–´', flag: 'ğŸ‡°ğŸ‡·' },
  { code: 'ru', label: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹', flag: 'ğŸ‡·ğŸ‡º' },
  { code: 'th', label: 'à¹„à¸—à¸¢', flag: 'ğŸ‡¹ğŸ‡­' },
  { code: 'id', label: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
```

**Tasks**:
1. Week 1: Translation + font integration
2. Week 2: Implementation + testing
3. Week 3: Instagram/TikTok marketing materials

---

### Phase 3: Market Expansion (Tier 3)
**Timeline**: 2-3 weeks
**Languages**: 5 new languages (16 total)

```typescript
// Additional languages
  { code: 'de', label: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' },
  { code: 'it', label: 'Italiano', flag: 'ğŸ‡®ğŸ‡¹' },
  { code: 'hi', label: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ğŸ‡®ğŸ‡³' },
  { code: 'tr', label: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
  { code: 'vi', label: 'Tiáº¿ng Viá»‡t', flag: 'ğŸ‡»ğŸ‡³' },
```

---

### Phase 4: RTL Support (Arabic)
**Timeline**: 4-5 weeks
**Languages**: 1 new language (17 total)

**Technical Requirements**:
1. CSS RTL adaptation
   ```css
   [dir="rtl"] .sidebar { left: auto; right: 0; }
   [dir="rtl"] .property-panel { right: auto; left: 0; }
   ```
2. Konva.js text alignment adjustments
3. React component direction handling
4. Full UI regression testing in RTL mode

**Why Separate Phase?**
- Different engineering complexity
- Requires dedicated QA cycle
- Learn from LTR language implementations first

---

## Technical Considerations

### 1. Font Support

**Recommended Font Stack** (Google Fonts):
- **Latin**: Noto Sans (existing)
- **CJK (Chinese/Japanese/Korean)**: Noto Sans SC, Noto Sans TC, Noto Sans KR
- **Thai**: Noto Sans Thai
- **Devanagari (Hindi)**: Noto Sans Devanagari
- **Arabic**: Noto Sans Arabic (Phase 4)

**Implementation**:
```typescript
// src/utils/fontLoader.ts
const FONT_MAP = {
  'zh-CN': 'Noto Sans SC',
  'zh-TW': 'Noto Sans TC',
  'ko': 'Noto Sans KR',
  'th': 'Noto Sans Thai',
  'hi': 'Noto Sans Devanagari',
  'ar': 'Noto Sans Arabic',
};
```

**Bundle Size Impact**:
- Each Noto Sans variant: ~100-200KB (lazy loaded)
- Total estimated increase: 1-2MB (acceptable for web app)

---

### 2. Translation Methods

**Recommended Approach**: Hybrid Method

| Method | Quality | Speed |
|--------|---------|-------|
| Professional Translation | â­â­â­â­â­ | 1-2 weeks |
| DeepL Pro API + Native Review | â­â­â­â­ | 3-5 days |
| DeepL Pro API only | â­â­â­ | 1 day |

**Recommended**: DeepL Pro API + Native Review
- Initial translation: DeepL API for speed
- Native speaker review for quality assurance
- Best balance of quality and implementation speed

---

### 3. UI Considerations

#### Text Expansion
Different languages have different text lengths for the same content:

| Language | Text Length (relative to English) |
|----------|-----------------------------------|
| German | 130% (longest) |
| French | 120% |
| Spanish | 115% |
| English | 100% (baseline) |
| Japanese | 60% |
| Chinese | 50% (shortest) |

**Mitigation**:
- Use `min-width` for buttons
- Test all UI at 130% text length
- Allow text wrapping in modals

#### Button Width Example
```tsx
// Before
<button className="px-4">Save</button>

// After (i18n-ready)
<button className="px-4 min-w-[80px]">
  {t('common:button.save')}
</button>
```

---

### 4. Testing Strategy

**Per-Language Checklist**:
- [ ] All 6 namespace files translated
- [ ] No missing translation keys
- [ ] Font loaded correctly
- [ ] Button text fits without overflow
- [ ] Modal text readable
- [ ] Mobile responsive (320px width)
- [ ] Language switcher displays correctly
- [ ] localStorage persistence works

**Automated Validation** (Optional):
```bash
# Check for missing keys
npm run i18n:validate
```

---

### 5. CI/CD Integration

**Future Enhancement** (Post Phase 1):
```yaml
# .github/workflows/i18n-check.yml
name: i18n Validation
on: [pull_request]
jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - name: Check translation completeness
        run: npm run i18n:validate
```

---

## Risk Assessment

### Technical Risks

| Risk | Impact | Mitigation |
|------|--------|-----------|
| Font loading delays | Medium | Lazy load fonts, show fallback |
| Bundle size increase | Low | Vite code-splitting handles it |
| Missing translation keys | High | Run validation script before deploy |
| RTL layout breaks UI | High | Separate Phase 4 for Arabic |
| Text overflow on mobile | Medium | Test all languages at 320px width |

### Business Risks

| Risk | Impact | Mitigation |
|------|--------|-----------|
| Low-quality machine translation | High | Native speaker review mandatory |
| Maintenance burden | Medium | Update all languages when adding features |

---

## Decision: Start with 5 or 7 Languages?

### Option A: Conservative (5 languages)
**Total**: English + Japanese + 3 new languages

**Pros**:
- Faster implementation (2 weeks)
- Easier to maintain

**Cons**:
- Miss key markets (China, Brazil)
- Need to revisit soon for expansion

**Recommended 3 Languages**:
1. Spanish (`es`) - Largest Latin market
2. Simplified Chinese (`zh-CN`) - Largest user base
3. French (`fr`) - 2nd largest anime market after Japan

---

### Option B: Comprehensive (7 languages) - RECOMMENDED
**Total**: English + Japanese + 5 new languages (Phase 1 complete)

**Pros**:
- Cover 70% of anime fan base
- Strong global brand positioning
- One-time translation effort

**Cons**:
- Longer implementation (3-4 weeks)

**Recommended 5 Languages**:
1. Spanish (`es`)
2. Portuguese Brazil (`pt-BR`)
3. Simplified Chinese (`zh-CN`)
4. Traditional Chinese (`zh-TW`)
5. French (`fr`)

---

## Recommended Path Forward

### Step 1: Confirm Scope (Now)
âœ… **Decision**: Option B (7 languages) for Phase 1

### Step 2: Font Research (Week 1)
- [ ] Test Noto Sans loading performance
- [ ] Verify CJK character coverage
- [ ] Confirm fallback behavior

### Step 3: Translation (Week 1-2)
- [ ] Export current JSON files
- [ ] AI-assisted translation with context
- [ ] Native speaker review for quality assurance

### Step 4: Implementation (Week 2-3)
- [ ] Update `i18n/index.ts`
- [ ] Create 5 language directories
- [ ] Update `LanguageSwitcher.tsx`
- [ ] Font loading integration

### Step 5: QA Testing (Week 3-4)
- [ ] Desktop testing (all browsers)
- [ ] Mobile testing (iOS/Android)
- [ ] Text overflow validation
- [ ] Screenshot comparison

### Step 6: Deployment
- [ ] Staging environment testing
- [ ] Production deployment
- [ ] Monitor analytics for language usage

---

## Future Considerations

### Phase 2+ (Post-Launch)
- [ ] Add 4 Tier 2 languages (Korean, Russian, Thai, Indonesian)
- [ ] Implement analytics tracking for language usage
- [ ] A/B test language auto-detection vs manual selection
- [ ] Consider community-driven translations for long-tail languages

### Phase 4 (RTL Support)
- [ ] Research RTL frameworks (e.g., `react-with-direction`)
- [ ] CSS refactoring for logical properties (`inline-start` vs `left`)
- [ ] Konva.js RTL plugin research
- [ ] Hire Arabic-speaking QA tester

---

## Resources

### External Services
- **DeepL Pro API**: https://www.deepl.com/pro-api
- **Native Translation Review**: Fiverr, Upwork, Gengo
- **Font CDN**: Google Fonts

### Documentation
- react-i18next: https://react.i18next.com/
- i18next: https://www.i18next.com/
- Noto Fonts: https://fonts.google.com/noto

### Internal Docs
- [DEVELOPMENT.md](./DEVELOPMENT.md) - General development guidelines
- [PERFORMANCE.md](./PERFORMANCE.md) - Performance optimization notes

---

## Changelog

| Date | Author | Changes |
|------|--------|---------|
| 2026-02-07 | Initial | Created comprehensive i18n strategy document |

---

## Appendix: Language Priority Matrix

Quick reference for prioritizing additional languages based on market size, engagement, and implementation complexity.

| Language | Market Size | Anime Fans | SNS Engagement | Implementation Complexity | Overall Priority |
|----------|-------------|------------|----------------|--------------------------|-----------------|
| Spanish | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­ (Easy) | ğŸ”¥ Phase 1 |
| Portuguese (BR) | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­ (Easy) | ğŸ”¥ Phase 1 |
| Simplified Chinese | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­ (Medium) | ğŸ”¥ Phase 1 |
| Traditional Chinese | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­ (Medium) | ğŸ”¥ Phase 1 |
| French | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­ (Easy) | ğŸ”¥ Phase 1 |
| Korean | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­ (Medium) | ğŸŸ  Phase 2 |
| Russian | â­â­â­â­ | â­â­â­â­ | â­â­â­ | â­â­ (Medium) | ğŸŸ  Phase 2 |
| Thai | â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­ (Medium) | ğŸŸ  Phase 2 |
| Indonesian | â­â­â­â­ | â­â­â­ | â­â­â­â­ | â­ (Easy) | ğŸŸ  Phase 2 |
| Arabic | â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ (Very Hard) | ğŸ”µ Phase 4 |

**Legend**:
- ğŸ”¥ Phase 1: Immediate implementation
- ğŸŸ  Phase 2: High priority, after Phase 1
- ğŸ”µ Phase 4: Requires RTL support, implement last
